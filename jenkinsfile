pipeline {
    agent any
    stages {
    stage("ping"){
        steps{
            echo "pingen naar de slave..."
            ansiblePlaybook become: true, installation: 'Ansible', inventory: 'hosts', playbook: 'playbook.yml'
      }
    }
    stage("image") {
      steps{
          echo "image aan het maken..."
          ansiblePlaybook become: true, installation: 'Ansible', inventory: 'hosts', playbook: 'playbook_image.yml'
      }
    }
    stage("dockerfile") {
      steps{
          echo "dockerfile aan het lezen..."
          ansiblePlaybook become: true, installation: 'Ansible', inventory: 'hosts', playbook: 'playbook_dockerfile.yml' 
      }
    }
    stage("container") {
      steps{
          echo "container aan het maken..."
          ansiblePlaybook become: true, installation: 'Ansible', inventory: 'hosts', playbook: 'playbook_container.yml'
      }
    }
    stage('python script') {
      steps {
        node('raspberry pi') {
          dir("/home/pi/Desktop/jenkins_slave/workspace/Devops-project-rpi/hardware") {
            sh "pwd"
            sh "ls"
          }
        }
      }
    }
  }
  post {
    success{
      echo "file succesvol gestart"
    }
    failure{
      echo "ERROR in de file"
    }
  }
}
